/* ===== Video Background Enhancements ===== */

/* Ensure video background works properly on all devices */
.hero-video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  overflow: hidden;
}

.hero-video-background video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  opacity: 1 !important; /* Force video to be visible */
  transition: opacity 0.5s ease-in-out;
  /* Hardware acceleration for better performance */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  will-change: transform;
  /* Ensure video is visible */
  display: block;
  visibility: visible;
}

.hero-video-background video.loaded {
  opacity: 1 !important;
}

/* Video overlay for better text readability */
.hero-video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.4) 100%);
  z-index: 1;
}

/* Fallback background when video is loading */
.hero-video-fallback {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #0D0D0D 0%, #1A1A1A 50%, #0D0D0D 100%);
  z-index: 1;
}

/* Enhanced text styling for video background */
.hero-text-overlay {
  position: relative;
  z-index: 2;
}

.hero-text-overlay h1 {
  color: white !important;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
  font-weight: bold;
}

.hero-text-overlay p {
  color: white !important;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
}

/* Mobile optimizations for video background */
@media (max-width: 768px) {
  .hero-video-background video {
    object-position: center center;
  }
  
  /* Reduce video quality on mobile for better performance */
  .hero-video-background video {
    transform: scale(1.1) translateZ(0); /* Slight zoom to ensure coverage */
    -webkit-transform: scale(1.1) translateZ(0);
  }
  
  /* Optimize for mobile performance */
  .hero-video-background video {
    -webkit-transform: translate3d(0,0,0);
    transform: translate3d(0,0,0);
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  .hero-video-background video {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
  }
  
  /* Fix for iOS video autoplay issues */
  .hero-video-background video {
    -webkit-playsinline: true;
    playsinline: true;
  }
}

/* Android specific fixes */
@supports not (-webkit-touch-callout: none) {
  .hero-video-background video {
    will-change: transform;
    transform: translate3d(0,0,0);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .hero-video-background video {
    transition: none;
  }
  
  .hero-video-background video.loaded {
    opacity: 1 !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .hero-video-overlay {
    background: rgba(0,0,0,0.7);
  }
  
  .hero-text-overlay h1,
  .hero-text-overlay p {
    text-shadow: 0 2px 4px rgba(0,0,0,1);
  }
}

/* Print styles */
@media print {
  .hero-video-background {
    display: none;
  }
  
  .hero-video-overlay {
    display: none;
  }
  
  .hero-text-overlay {
    color: black !important;
    text-shadow: none !important;
  }
}

/* Performance optimizations for slow devices */
@media (max-width: 480px) {
  .hero-video-background video {
    /* Reduce quality for very small screens */
    transform: scale(1.2) translateZ(0);
    -webkit-transform: scale(1.2) translateZ(0);
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 500px) {
  .hero-video-background video {
    object-position: center 30%;
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .hero-video-background video {
    /* Ensure crisp video on high DPI displays */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Debug styles - ensure video is visible */
.hero-video-background video {
  border: 2px solid red !important; /* Temporary debug border */
  min-height: 200px !important;
  min-width: 200px !important;
}
